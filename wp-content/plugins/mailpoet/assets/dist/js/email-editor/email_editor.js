!function(){var e={352:function(e){var t=function(e){return"string"==typeof e};e.exports=function(e,r,n){return Array.isArray(e)||(e=[e]),i=e.map((function(e){return t(e)?function(e,r,n){var i=0,s=0;if(""===e)return e;if(!e||!t(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var o,a,l,c=r;(function(e){return e instanceof RegExp})(c)||(c=new RegExp("("+(o=c,a=/[\\^$.*+?()[\]{}|]/g,l=RegExp(a.source),(o&&l.test(o)?o.replace(a,"\\$&"):o)+")"),"gi"));for(var u=e.split(c),d=1,p=u.length;d<p;d+=2)s=u[d].length,i+=u[d-1].length,u[d]=n(u[d],d,i),i+=s;return u}(e,r,n):e})),s=[],i.forEach((function(e){Array.isArray(e)?s=s.concat(e):s.push(e)})),s;var i,s}},875:function(e,t,r){"use strict";var n=r(196),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},250:function(e,t,r){"use strict";e.exports=r(875)},196:function(e){"use strict";e.exports=window.React}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};r.r(e),r.d(e,{disableComplementaryArea:function(){return P},enableComplementaryArea:function(){return S},pinItem:function(){return R},setDefaultComplementaryArea:function(){return A},setFeatureDefaults:function(){return F},setFeatureValue:function(){return k},toggleFeature:function(){return N},unpinItem:function(){return C}});var t={};r.r(t),r.d(t,{getActiveComplementaryArea:function(){return T},isComplementaryAreaLoading:function(){return D},isFeatureActive:function(){return M},isItemPinned:function(){return L}});var n=window.wp.plugins,i=window.wp.data,s=window.wp.coreData,o=window.wp.editor,a=window.wp.element,l=r(250);function c(e){let{children:t}=e;const[r]=(0,a.useState)(document.createElement("div"));return(0,a.useEffect)((()=>{const e=document.getElementsByClassName("editor-post-publish-button__button")[0];e.parentNode.insertBefore(r,e)}),[r]),(0,a.createPortal)((0,l.jsx)(l.Fragment,{children:t}),r)}function u(){const{emailData:e}=(0,i.useSelect)((e=>({emailData:e(o.store).getEditedPostAttribute("email_data")??null}))),t=`\n    .edit-post-visual-editor__content-area {\n        max-width: ${e.layout_styles.width}px;\n    }\n    .edit-post-visual-editor {\n    background: ${e.layout_styles.background};\n  }`;return(0,l.jsx)("style",{children:t})}var d=window.wp.editPost,p=window.wp.i18n,m=window.wp.components;function f(e){let{newsletterId:t}=e;const[r,n]=(0,a.useState)(!1);return(0,l.jsx)(m.Button,{variant:"primary",disabled:!t,isBusy:r,onClick:()=>{n(!0);const e=(0,i.select)(o.store).isEditedPostDirty(),r=`admin.php?page=mailpoet-newsletters#/send/${t}`;if(!e)return void(window.location.href=r);(0,i.dispatch)(o.store).savePost();const s=(0,i.subscribe)((()=>{const e=(0,i.select)(o.store).isEditedPostDirty(),t=(0,i.select)(o.store).isSavingPost(),a=(0,i.select)(o.store).didPostSaveRequestSucceed(),l=(0,i.select)(o.store).didPostSaveRequestFail();t||!a||e||(s(),window.location.href=r),!t&&l&&n(!0)}))},children:(0,p.__)("Next","mailpoet")})}var h=function(e){let{icon:t,size:r=24,...n}=e;return(0,a.cloneElement)(t,{width:r,height:r,...n})},g=window.wp.primitives,_=(0,a.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(g.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})),w=r(352),v=r.n(w);function y(){const e=(0,i.useSelect)((e=>e(o.store).getEditedPostAttribute("mailpoet_data")??null)),{editPost:t}=(0,i.useDispatch)(o.store),r=(r,n)=>{const i={mailpoet_data:{...e,[r]:n}};t(i)};let n=v()((0,p.__)("Use shortcodes to personalize your email, or learn more about [link1]best practices[/link1] and using [link2]emoji in subject lines[/link2].","mailpoet"),/\[link1\](.*?)\[\/link1\]/g,((e,t)=>(0,l.jsx)("a",{href:"https://www.mailpoet.com/blog/17-email-subject-line-best-practices-to-boost-engagement/",target:"_blank",rel:"noopener noreferrer",children:e},t)));n=v()(n,/\[link2\](.*?)\[\/link2\]/g,((e,t)=>(0,l.jsx)("a",{href:"https://www.mailpoet.com/blog/tips-using-emojis-in-subject-lines/",target:"_blank",rel:"noopener noreferrer",children:e},t)));const s=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:(0,p.__)("Subject","mailpoet")}),(0,l.jsx)(m.ExternalLink,{href:"https://kb.mailpoet.com/article/215-personalize-newsletter-with-shortcodes#list",children:(0,p.__)("Shortcode guide","mailpoet")})]}),a=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:(0,p.__)("Preview text (recommended)","mailpoet")}),(0,l.jsx)(m.Tooltip,{text:(0,p.__)("This text will appear in the inbox, underneath the subject line. Max length is 250 characters, but we recommend 80 characters.","mailpoet"),children:(0,l.jsx)("span",{className:"mailpoet-preview-text__help-icon",children:(0,l.jsx)(h,{icon:_,size:20})})})]});return(0,l.jsxs)(d.PluginDocumentSettingPanel,{className:"mailpoet-email-editor__settings-panel",title:(0,p.__)("Details","mailpoet"),name:"mailpoet-email-editor-setting-panel",children:[(0,l.jsx)(m.TextareaControl,{className:"mailpoet-settings-panel__subject",label:s,placeholder:(0,p.__)("Eg. The summer sale is here!","mailpoet"),value:e.subject??"",onChange:e=>r("subject",e),"data-automation-id":"email_subject"}),(0,l.jsx)("div",{className:"mailpoet-settings-panel__subject-help",children:(0,l.jsx)(m.__experimentalText,{children:n})}),(0,l.jsx)(m.TextareaControl,{className:"mailpoet-settings-panel__preview-text",label:a,placeholder:(0,p.__)("Add a preview text to capture subscribers' attention and increase open rates.","mailpoet"),value:e.preheader??"",onChange:e=>r("preheader",e),"data-automation-id":"email_preview_text"})]})}var x=(0,a.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(g.Path,{fillRule:"evenodd",d:"M6.863 13.644L5 13.25h-.5a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5H5L18 6.5h2V16h-2l-3.854-.815.026.008a3.75 3.75 0 01-7.31-1.549zm1.477.313a2.251 2.251 0 004.356.921l-4.356-.921zm-2.84-3.28L18.157 8h.343v6.5h-.343L5.5 11.823v-1.146z",clipRule:"evenodd"})),b=window.wp.deprecated,j=r.n(b),E=window.wp.preferences;const A=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),S=(e,t)=>r=>{let{registry:n,dispatch:i}=r;t&&(n.select(E.store).get(e,"isComplementaryAreaVisible")||n.dispatch(E.store).set(e,"isComplementaryAreaVisible",!0),i({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},P=e=>t=>{let{registry:r}=t;r.select(E.store).get(e,"isComplementaryAreaVisible")&&r.dispatch(E.store).set(e,"isComplementaryAreaVisible",!1)},R=(e,t)=>r=>{let{registry:n}=r;if(!t)return;const i=n.select(E.store).get(e,"pinnedItems");!0!==(null==i?void 0:i[t])&&n.dispatch(E.store).set(e,"pinnedItems",{...i,[t]:!0})},C=(e,t)=>r=>{let{registry:n}=r;if(!t)return;const i=n.select(E.store).get(e,"pinnedItems");n.dispatch(E.store).set(e,"pinnedItems",{...i,[t]:!1})};function N(e,t){return function(r){let{registry:n}=r;j()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(E.store).toggle(e,t)}}function k(e,t,r){return function(n){let{registry:i}=n;j()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),i.dispatch(E.store).set(e,t,!!r)}}function F(e,t){return function(r){let{registry:n}=r;j()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(E.store).setDefaults(e,t)}}const T=(0,i.createRegistrySelector)((e=>(t,r)=>{var n;const i=e(E.store).get(r,"isComplementaryAreaVisible");if(void 0!==i)return!1===i?null:null==t||null===(n=t.complementaryAreas)||void 0===n?void 0:n[r]})),D=(0,i.createRegistrySelector)((e=>(t,r)=>{var n;const i=e(E.store).get(r,"isComplementaryAreaVisible"),s=null==t||null===(n=t.complementaryAreas)||void 0===n?void 0:n[r];return i&&void 0===s})),L=(0,i.createRegistrySelector)((e=>(t,r,n)=>{var i;const s=e(E.store).get(r,"pinnedItems");return null===(i=null==s?void 0:s[n])||void 0===i||i})),M=(0,i.createRegistrySelector)((e=>(t,r,n)=>(j()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(E.store).get(r,n))));var O=(0,i.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return e[r]?e:{...e,[r]:n}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:r,area:n}=t;return{...e,[r]:n}}}return e}});const B=(0,i.createReduxStore)("core/interface",{reducer:O,actions:e,selectors:t});function I(){const e=(0,a.useRef)(document.createElement("div")),{activeSidebar:t}=(0,i.useSelect)((e=>({activeSidebar:e(B).getActiveComplementaryArea("core/edit-post")})));return(0,a.useEffect)((()=>{"edit-post/document"===t&&setTimeout((()=>{if(document.querySelector(".edit-post-sidebar .components-panel.mailpoet-email-sidebar__email-type-info"))return;const t=document.querySelector(".edit-post-sidebar"),r=document.querySelector(".edit-post-sidebar .components-panel");t&&r&&t.insertBefore(e.current,r)}))}),[t]),"edit-post/document"!==t?null:(0,a.createPortal)((0,l.jsx)(m.Panel,{className:"mailpoet-email-sidebar__email-type-info",children:(0,l.jsx)(m.PanelBody,{children:(0,l.jsxs)(m.PanelRow,{children:[(0,l.jsx)("span",{className:"mailpoet-email-type-info__icon",children:(0,l.jsx)(h,{icon:x})}),(0,l.jsxs)("div",{className:"mailpoet-email-type-info__content",children:[(0,l.jsx)("h2",{children:(0,p.__)("Newsletter","mailpoet")}),(0,l.jsx)("span",{children:(0,p.__)("Send or schedule a newsletter to connect with your subscribers.","mailpoet")})]})]})})}),e.current)}function V(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(I,{}),(0,l.jsx)(y,{})]})}(0,i.register)(B),(0,i.select)(s.store).getBlockPatterns=()=>[],(0,i.select)(s.store).getBlockPatternCategories=()=>[],(0,n.registerPlugin)("mailpoet-email-editor",{render:function(){const{mailpoetData:e}=(0,i.useSelect)((e=>({mailpoetData:e(o.store).getEditedPostAttribute("mailpoet_data")??null})));return function(){const{isWelcomeGuideActive:e}=(0,i.useSelect)((e=>({isWelcomeGuideActive:e(d.store).isFeatureActive("welcomeGuide")})));(0,a.useEffect)((()=>{e&&(0,i.dispatch)(d.store).toggleFeature("welcomeGuide")}),[e])}(),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{}),(0,l.jsx)(c,{children:(0,l.jsx)(f,{newsletterId:e?.id??null})}),(0,l.jsx)(V,{})]})}})}()}();